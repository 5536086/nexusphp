var k=Object.defineProperty,S=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var f=(e,a,t)=>a in e?k(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,b=(e,a)=>{for(var t in a||(a={}))I.call(a,t)&&f(e,t,a[t]);if(g)for(var t of g(a))q.call(a,t)&&f(e,t,a[t]);return e},v=(e,a)=>S(e,M(a));import{B,u as P,o as z,t as A,e as c,y as H,f as w,q as x,w as r,E as L,h as i,k as n,z as N,p as j,m as V,l as R}from"./vendor.51c5b88d.js";import{_ as $,a as y}from"./index.18f7a70d.js";import{u as F,r as G}from"./table.848ed703.js";const J={name:"ExamTable",setup(){const e=B(null),a=P(),t=F();z(()=>{console.log("ExamTable onMounted"),s()});const s=async()=>{t.loading=!0;let l=await y.listExam(t.query);G(l,t),t.loading=!1},h=()=>{a.push({name:"exam-form"})},m=l=>{a.push({path:"/exam-form",query:{id:l}})},p=async l=>{let u=await y.deleteExam(l);L.success(u.msg),t.query.page=1,await s()},o=l=>{t.multipleSelection=l},_=l=>{t.query.page=l,s()};return v(b({},A(t)),{multipleTable:e,handleSelectionChange:o,handleAdd:h,handleEdit:m,handleDelete:p,fetchTableData:s,changePage:_})}},C=e=>(j("data-v-e59598ee"),e=e(),V(),e),K={class:"nexus-table-header"},O=C(()=>i("div",{class:"left"},null,-1)),Q={class:"right"},U=R("Add"),W=["innerHTML"],X=["innerHTML"],Y=["onClick"],Z=C(()=>i("a",{style:{cursor:"pointer"}},"Delete",-1));function ee(e,a,t,s,h,m){const p=c("el-button"),o=c("el-table-column"),_=c("el-popconfirm"),l=c("el-table"),u=c("el-pagination"),T=c("el-card"),D=H("loading");return w(),x(T,{class:""},{header:r(()=>[i("div",K,[O,i("div",Q,[n(p,{type:"primary",size:"small",icon:"Plus",onClick:s.handleAdd},{default:r(()=>[U]),_:1},8,["onClick"])])])]),default:r(()=>[N((w(),x(l,{ref:"multipleTable",data:e.tableData,"tooltip-effect":"dark",onSelectionChange:s.handleSelectionChange},{default:r(()=>[n(o,{type:"selection",width:"55"}),n(o,{prop:"id",label:"Id",width:"50"}),n(o,{prop:"name",label:"Name"}),n(o,{label:"Indexes",width:"250px"},{default:r(d=>[i("p",{style:{"white-space":"pre-line"},innerHTML:d.row.indexes_formatted},null,8,W)]),_:1}),n(o,{prop:"begin",label:"Begin",width:"160"}),n(o,{prop:"end",label:"End",width:"160"}),n(o,{prop:"duration_text",label:"Duration"}),n(o,{label:"Target users",width:"350px"},{default:r(d=>[i("p",{style:{"white-space":"pre-line"},innerHTML:d.row.filters_formatted},null,8,X)]),_:1}),n(o,{prop:"is_discovered_text",label:"Discovered"}),n(o,{prop:"status_text",label:"Status"}),n(o,{label:"Action",width:"100"},{default:r(d=>[i("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:E=>s.handleEdit(d.row.id)},"Edit",8,Y),n(_,{title:"Confirm Delete ?",onConfirm:E=>s.handleDelete(d.row.id)},{reference:r(()=>[Z]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[D,e.loading]]),n(u,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.perPage,"current-page":e.currentPage,onCurrentChange:s.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})}var le=$(J,[["render",ee],["__scopeId","data-v-e59598ee"]]);export{le as default};
