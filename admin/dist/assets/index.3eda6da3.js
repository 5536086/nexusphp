var T=Object.defineProperty,U=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var y=(o,t,e)=>t in o?T(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,v=(o,t)=>{for(var e in t||(t={}))A.call(t,e)&&y(o,e,t[e]);if(w)for(var e of w(t))B.call(t,e)&&y(o,e,t[e]);return o},D=(o,t)=>U(o,q(t));import{B as E,u as P,o as z,t as j,e as s,y as M,f as S,q as k,w as d,E as N,h as i,k as r,z as V,l as R}from"./vendor.51c5b88d.js";import{_ as I,a as x}from"./index.18f7a70d.js";import{u as F,r as G,a as H}from"./table.848ed703.js";const J={name:"UserTable",setup(){const o=E(null),t=P(),e=F();z(()=>{console.log("UserTable onMounted"),l()});const l=async()=>{e.loading=!0;let a=await x.listUser(e.query);G(a,e),e.loading=!1},f=()=>{t.push({name:"user-form"})},b=a=>{t.push({name:"user-form",query:{id:a}})},u=async a=>{let c=await x.deleteExam(a);N.success(c.msg),e.query.page=1,await l()},n=a=>{e.multipleSelection=a},m=a=>{e.query.page=a,l()},p=a=>{H(a,e),l()},h=a=>{t.push({name:"user-detail",query:{id:a}})},_=(a,c)=>a.class_text,g=(a,c)=>a.uploaded_text,C=(a,c)=>a.downloaded_text;return D(v({},j(e)),{multipleTable:o,handleSelectionChange:n,handleAdd:f,handleEdit:b,handleDelete:u,handleDetail:h,fetchTableData:l,changePage:m,handleSortChange:p,formatColumnClass:_,formatColumnUploaded:g,formatColumnDownloaded:C})}},K={class:"nexus-table-header"},L=i("div",{class:"left"},null,-1),O={class:"right"},Q=R("Add"),W=["onClick"];function X(o,t,e,l,f,b){const u=s("el-button"),n=s("el-table-column"),m=s("el-table"),p=s("el-pagination"),h=s("el-card"),_=M("loading");return S(),k(h,null,{header:d(()=>[i("div",K,[L,i("div",O,[r(u,{type:"primary",size:"small",icon:"Plus",onClick:l.handleAdd},{default:d(()=>[Q]),_:1},8,["onClick"])])])]),default:d(()=>[V((S(),k(m,{ref:"multipleTable",data:o.tableData,"tooltip-effect":"dark",onSortChange:l.handleSortChange,onSelectionChange:l.handleSelectionChange},{default:d(()=>[r(n,{type:"selection",width:"55"}),r(n,{prop:"id",label:"Id",width:"60",sortable:"custom"}),r(n,{prop:"username",label:"Username",sortable:"custom"}),r(n,{prop:"email",label:"Email"}),r(n,{prop:"class",label:"Class",sortable:"custom",formatter:l.formatColumnClass},null,8,["formatter"]),r(n,{prop:"uploaded",label:"Uploaded",sortable:"custom",formatter:l.formatColumnUploaded},null,8,["formatter"]),r(n,{prop:"downloaded",label:"Downloaded",sortable:"custom",formatter:l.formatColumnDownloaded},null,8,["formatter"]),r(n,{prop:"bonus",label:"Bonus"}),r(n,{prop:"status",label:"Status"}),r(n,{prop:"added",label:"Added"}),r(n,{label:"Action",width:"100"},{default:d(g=>[i("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:C=>l.handleDetail(g.row.id)},"Detail",8,W)]),_:1})]),_:1},8,["data","onSortChange","onSelectionChange"])),[[_,o.loading]]),r(p,{background:"",layout:"prev, pager, next",total:o.total,"page-size":o.perPage,"current-page":o.currentPage,onCurrentChange:l.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})}var ae=I(J,[["render",X]]);export{ae as default};
