var J=Object.defineProperty,K=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var D=(e,r,n)=>r in e?J(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,L=(e,r)=>{for(var n in r||(r={}))G.call(r,n)&&D(e,n,r[n]);if(k)for(var n of k(r))Q.call(r,n)&&D(e,n,r[n]);return e},R=(e,r)=>K(e,X(r));import{c as Y,a as Z,b as t,E as b,u as T,d as ee,r as O,o as V,t as te,e as g,f as h,g as v,h as u,i as j,j as x,k as a,w as o,l as p,p as y,m as A,n as re,q as S,s as ne,v as U,x as oe}from"./vendor.7b1bb722.js";const se=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerpolicy&&(d.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?d.credentials="include":s.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(s){if(s.ep)return;s.ep=!0;const d=n(s);fetch(s.href,d)}};se();function w(e){const r=window.localStorage.getItem(e);try{return JSON.parse(window.localStorage.getItem(e))}catch{return r}}function at(e,r){window.localStorage.setItem(e,JSON.stringify(r))}function H(e){window.localStorage.removeItem(e)}const $={login:"Login",introduce:"\u7CFB\u7EDF\u4ECB\u7ECD",dashboard:"Dashboard",add:"\u6DFB\u52A0\u5546\u54C1",swiper:"\u8F6E\u64AD\u56FE\u914D\u7F6E",hot:"\u70ED\u9500\u5546\u54C1\u914D\u7F6E",new:"\u65B0\u54C1\u4E0A\u7EBF\u914D\u7F6E",recommend:"\u4E3A\u4F60\u63A8\u8350\u914D\u7F6E",category:"\u5206\u7C7B\u7BA1\u7406",level2:"\u5206\u7C7B\u4E8C\u7EA7\u7BA1\u7406",level3:"\u5206\u7C7B\u4E09\u7EA7\u7BA1\u7406",good:"\u5546\u54C1\u7BA1\u7406",guest:"\u4F1A\u5458\u7BA1\u7406",order:"\u8BA2\u5355\u7BA1\u7406",order_detail:"\u8BA2\u5355\u8BE6\u60C5",account:"\u4FEE\u6539\u8D26\u6237","agent-allow":"Agent allow","agent-allow-form":"Agent allow form","agent-deny":"Agent deny","agent-deny-form":"Agent deny form",user:"User","user-form":"User form","user-detail":"User detail",exam:"Exam","exam-form":"Exam form","exam-user":"Exam user",setting:"Setting",medal:"Medal","medal-form":"Medal form",tag:"Tag","tag-form":"Tag form",hr:"H&R","hr-detail":"H&R Detail"},ae="modulepreload",M={},le="/admin/",_=function(r,n){return!n||n.length===0?r():Promise.all(n.map(l=>{if(l=`${le}${l}`,l in M)return;M[l]=!0;const s=l.endsWith(".css"),d=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":ae,s||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),s)return new Promise((c,f)=>{i.addEventListener("load",c),i.addEventListener("error",f)})})).then(()=>r())},B=Y({history:Z(),base:"/admin/",routes:[{path:"/",name:"dashboard",component:()=>_(()=>import("./index.5190eee7.js"),["assets/index.5190eee7.js","assets/index.b841e903.css","assets/vendor.7b1bb722.js"])},{path:"/login",name:"login",component:()=>_(()=>import("./login.bb11541c.js"),["assets/login.bb11541c.js","assets/login.1a491c3a.css","assets/vendor.7b1bb722.js"])},{path:"/user",name:"user",component:()=>_(()=>import("./index.ef70cd3c.js"),["assets/index.ef70cd3c.js","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/user-form",name:"user-form",component:()=>_(()=>import("./form.4f8ed7c5.js"),["assets/form.4f8ed7c5.js","assets/vendor.7b1bb722.js"])},{path:"/user-detail",name:"user-detail",component:()=>_(()=>import("./detail.666757ae.js"),["assets/detail.666757ae.js","assets/detail.9a3f253b.css","assets/vendor.7b1bb722.js"])},{path:"/exam",name:"exam",component:()=>_(()=>import("./index.52bfd2ca.js"),["assets/index.52bfd2ca.js","assets/index.129a29b3.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/exam-form",name:"exam-form",component:()=>_(()=>import("./form.38f0b24d.js"),["assets/form.38f0b24d.js","assets/vendor.7b1bb722.js"])},{path:"/exam-user",name:"exam-user",component:()=>_(()=>import("./user.95d78e47.js"),["assets/user.95d78e47.js","assets/user.d4d7ab64.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/agent-allow",name:"agent-allow",component:()=>_(()=>import("./index.f83c69ba.js"),["assets/index.f83c69ba.js","assets/index.dd2295c2.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/agent-allow-form",name:"agent-allow-form",component:()=>_(()=>import("./form.46ad3476.js"),["assets/form.46ad3476.js","assets/vendor.7b1bb722.js"])},{path:"/medal",name:"medal",component:()=>_(()=>import("./index.61603d2b.js"),["assets/index.61603d2b.js","assets/index.58869ca0.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/medal-form",name:"medal-form",component:()=>_(()=>import("./form.743b10dc.js"),["assets/form.743b10dc.js","assets/vendor.7b1bb722.js"])},{path:"/agent-allow",name:"agent-allow",component:()=>_(()=>import("./index.f83c69ba.js"),["assets/index.f83c69ba.js","assets/index.dd2295c2.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/agent-allow-form",name:"agent-allow-form",component:()=>_(()=>import("./form.46ad3476.js"),["assets/form.46ad3476.js","assets/vendor.7b1bb722.js"])},{path:"/agent-deny",name:"agent-deny",component:()=>_(()=>import("./index.5f575c0f.js"),["assets/index.5f575c0f.js","assets/index.a6524b70.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/agent-deny-form",name:"agent-deny-form",component:()=>_(()=>import("./form.1e8e4fe1.js"),["assets/form.1e8e4fe1.js","assets/vendor.7b1bb722.js"])},{path:"/setting",name:"setting",component:()=>_(()=>import("./index.e2094149.js"),["assets/index.e2094149.js","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/tag",name:"tag",component:()=>_(()=>import("./index.990179a1.js"),["assets/index.990179a1.js","assets/index.b800fb38.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/tag-form",name:"tag-form",component:()=>_(()=>import("./form.d3f7b20a.js"),["assets/form.d3f7b20a.js","assets/vendor.7b1bb722.js"])},{path:"/hr",name:"hr",component:()=>_(()=>import("./index.4a2267fd.js"),["assets/index.4a2267fd.js","assets/index.12727fe2.css","assets/vendor.7b1bb722.js","assets/table.77a09864.js"])},{path:"/hr-detail",name:"hr-detail",component:()=>_(()=>import("./detail.5b23ef9e.js"),["assets/detail.5b23ef9e.js","assets/detail.5c0a36a2.css","assets/vendor.7b1bb722.js"])}]});console.log({VITE_BASE_URL:"/api",BASE_URL:"/admin/",MODE:"production",DEV:!1,PROD:!0});t.defaults.baseURL="/api";t.defaults.withCredentials=!0;t.defaults.headers["X-Requested-With"]="XMLHttpRequest";t.defaults.headers["Content-Type"]="application/json";t.defaults.headers.Accept="application/json";t.defaults.headers.Platform="admin";t.interceptors.request.use(e=>(e.headers.Authorization="Bearer "+w("token"),e),e=>Promise.reject(e));t.interceptors.response.use(e=>(console.log(e),typeof e.data!="object"?(b.error("Server Error 1"),Promise.reject(e)):e.data.ret&&e.data.ret!=0?(b.error(e.data.msg),Promise.reject(e.data)):e.data),e=>{let r=e.response;return console.log(r),r.status==401&&B.push({name:"login"}),b.error(r.data.msg||"Server Error 2"),Promise.reject(e)});const ue={login:(e={})=>t.post("login",e),logout:(e={})=>t.post("logout"),listAgentAllow:(e={})=>t.get("agent-allows",{params:e}),listAllAgentAllow:(e={})=>t.get("all-agent-allows",{params:e}),storeAgentAllow:(e={})=>t.post("agent-allows",e),updateAgentAllow:(e,r={})=>t.put("agent-allows/"+e,r),getAgentAllow:e=>t.get("agent-allows/"+e),deleteAgentAllow:e=>t.delete("agent-allows/"+e),listAgentDeny:(e={})=>t.get("agent-denies",{params:e}),storeAgentDeny:(e={})=>t.post("agent-denies",e),updateAgentDeny:(e,r={})=>t.put("agent-denies/"+e,r),getAgentDeny:e=>t.get("agent-denies/"+e),deleteAgentDeny:e=>t.delete("agent-denies/"+e),checkAgent:(e={})=>t.post("agent-check",e),listUser:(e={})=>t.get("users",{params:e}),getUser:(e,r={})=>t.get("users/"+e,{params:r}),getUserBase:(e={})=>t.get("user-base",{params:e}),getInviteInfo:(e={})=>t.get("user-invite-info",{params:e}),getUserModComment:(e={})=>t.get("user-mod-comment",{params:e}),storeUser:(e={})=>t.post("users",e),disableUser:(e={})=>t.post("user-disable",e),enableUser:(e={})=>t.post("user-enable",e),incrementDecrementUserField:(e={})=>t.put("user-increment-decrement",e),resetPassword:(e={})=>t.post("user-reset-password",e),listUserMatchExams:(e={})=>t.get("user-match-exams",{params:e}),listExam:(e={})=>t.get("exams",{params:e}),listExamAll:(e={})=>t.get("exams-all",{params:e}),listExamIndex:(e={})=>t.get("exam-indexes",{params:e}),storeExam:(e={})=>t.post("exams",e),updateExam:(e,r={})=>t.put("exams/"+e,r),getExam:e=>t.get("exams/"+e),deleteExam:e=>t.delete("exams/"+e),listMedal:(e={})=>t.get("medals",{params:e}),storeMedal:(e={})=>t.post("medals",e),updateMedal:(e,r={})=>t.put("medals/"+e,r),getMedal:e=>t.get("medals/"+e),deleteMedal:e=>t.delete("medals/"+e),listClass:(e={})=>t.get("user-classes",{params:e}),listExamUser:(e={})=>t.get("exam-users",{params:e}),deleteExamUser:e=>t.delete("exam-users/"+e),avoidExamUser:e=>t.put("exam-users-avoid",{id:e}),avoidExamUserBulk:(e={})=>t.put("exam-users-avoid-bulk",e),deleteExamUserBulk:(e={})=>t.put("exam-users-delete-bulk",e),recoverExamUser:e=>t.put("exam-users-recover",{id:e}),storeExamUser:e=>t.post("exam-users",e),storeSetting:e=>t.post("settings",e),listSetting:e=>t.get("settings",{params:e}),listStatData:()=>t.get("dashboard/stat-data"),listLatestUser:()=>t.get("dashboard/latest-user"),listLatestTorrent:()=>t.get("dashboard/latest-torrent"),listSystemInfo:()=>t.get("dashboard/system-info"),removeUserMedal:e=>t.delete("user-medals/"+e),storeUserMedal:e=>t.post("user-medals",e),listTag:(e={})=>t.get("tags",{params:e}),storeTag:(e={})=>t.post("tags",e),updateTag:(e,r={})=>t.put("tags/"+e,r),getTag:e=>t.get("tags/"+e),deleteTag:e=>t.delete("tags/"+e),listHr:(e={})=>t.get("hr",{params:e}),listHrStatus:(e={})=>t.get("hr-status"),storeHr:(e={})=>t.post("hr",e),updateHr:(e,r={})=>t.put("hr/"+e,r),getHr:e=>t.get("hr/"+e),deleteHr:e=>t.delete("hr/"+e),pardonHr:e=>t.put("hr-pardon/"+e),deleteHrBulk:(e={})=>t.put("hr-delete",e),pardonHrBulk:(e={})=>t.put("hr-pardon",e),removeTwoStepAuthentication:(e={})=>t.put("user-remove-two-step",e)};var I=(e,r)=>{const n=e.__vccOpts||e;for(const[l,s]of r)n[l]=s;return n};const ie={name:"Header",props:{},setup(e,r){const n=T();ee();const l="userInfo",s=O({name:"dashboard",userInfo:null,hasBack:!1});V(async()=>{console.log("Head onMounted!"),console.log(e);let c=w(l);c&&(s.userInfo=c)});const d=()=>{ue.logout().then(()=>{H("token"),H(l),n.push({name:"login"})})},i=()=>{n.back()};return n.afterEach(c=>{console.log("Head afterEach to",c),c.query,s.name=$[c.name]}),R(L({},te(s)),{logout:d,back:i})}},C=e=>(y("data-v-ca9b15ba"),e=e(),A(),e),de={class:"header"},ce={class:"left"},_e={style:{"font-size":"20px"}},me={class:"right"},pe={class:"author"},ge=C(()=>u("i",{class:"icon el-icon-s-custom"},null,-1)),fe=C(()=>u("i",{class:"el-icon-caret-bottom"},null,-1)),he={class:"nickname"},ve=p("Logout");function xe(e,r,n,l,s,d){const i=g("el-tag"),c=g("el-popover");return h(),v("div",de,[u("div",ce,[e.hasBack?(h(),v("i",{key:0,class:"el-icon-back",onClick:r[0]||(r[0]=(...f)=>l.back&&l.back(...f))})):j("",!0),u("span",_e,x(e.name),1)]),u("div",me,[a(c,{placement:"bottom",width:320,trigger:"click","popper-class":"popper-user-box"},{reference:o(()=>[u("div",pe,[ge,p(" "+x(e.userInfo&&e.userInfo.username||"")+" ",1),fe])]),default:o(()=>[u("div",he,[u("p",null,"Email\uFF1A"+x(e.userInfo&&e.userInfo.email||""),1),u("p",null,"Class\uFF1A"+x(e.userInfo&&e.userInfo.class_text||""),1),a(i,{size:"small",effect:"dark",class:"logout",onClick:l.logout},{default:o(()=>[ve]),_:1},8,["onClick"])])]),_:1})])])}var Ee=I(ie,[["render",xe],["__scopeId","data-v-ca9b15ba"]]);const be={name:"Footer",props:{version:String}},ye=e=>(y("data-v-6e9091a0"),e=e(),A(),e),Ae={class:"footer"},we=ye(()=>u("div",{class:"left"},[p("Powered by "),u("a",{target:"_blank",href:"https://nexusphp.org/"},"NexusPHP")],-1)),Ie={key:0,class:"right"};function Pe(e,r,n,l,s,d){return h(),v("div",Ae,[we,n.version?(h(),v("div",Ie," Version: "+x(n.version),1)):j("",!0)])}var ke=I(be,[["render",Pe],["__scopeId","data-v-6e9091a0"]]);const De={name:"App",components:{Header:Ee,Footer:ke},setup(){const e=["/login"],r=T(),n=O({defaultOpen:["1","2","3","4"],showMenu:!0,currentPath:"/dashboard",count:{number:1},routerName:r.name,version:""});V(()=>{}),re(()=>{l()});const l=r.beforeEach((d,i,c)=>{d.path=="/login"||w("token")?c():c({path:"/login"}),n.showMenu=!e.includes(d.path),n.currentPath=d.path,document.title=$[d.name]});return{state:n,updateVersion:d=>{n.version=d.nexus_version.value}}}},m=e=>(y("data-v-1b05aeb3"),e=e(),A(),e),Le={class:"layout"},Re=m(()=>u("div",{class:"head"},[u("div",null,[u("span",null,"NexusPHP")])],-1)),Te=m(()=>u("div",{class:"line"},null,-1)),Oe=m(()=>u("i",{class:"el-icon-odometer"},null,-1)),Ve=p("Dashboard"),je=m(()=>u("span",null,"User",-1)),Se=m(()=>u("i",{class:"el-icon-user"},null,-1)),Ue=p("User list"),He=m(()=>u("i",{class:"el-icon-user"},null,-1)),$e=p("H&R"),Me=m(()=>u("span",null,"Agent",-1)),Be=m(()=>u("i",{class:"el-icon-user"},null,-1)),Ce=p("Allow"),Ne=m(()=>u("i",{class:"el-icon-user"},null,-1)),qe=p("Deny"),Fe=m(()=>u("span",null,"System",-1)),ze=m(()=>u("i",{class:"el-icon-menu"},null,-1)),We=p("Exam"),Je=m(()=>u("i",{class:"el-icon-menu"},null,-1)),Ke=p("Exam user"),Xe=m(()=>u("i",{class:"el-icon-menu"},null,-1)),Ge=p("Medal"),Qe=m(()=>u("i",{class:"el-icon-menu"},null,-1)),Ye=p("Tag"),Ze=m(()=>u("i",{class:"el-icon-menu"},null,-1)),et=p("Setting"),tt={class:"main"};function rt(e,r,n,l,s,d){const i=g("el-menu-item"),c=g("el-menu-item-group"),f=g("el-sub-menu"),q=g("el-menu"),F=g("el-aside"),z=g("Header"),P=g("router-view"),W=g("Footer"),E=g("el-container");return h(),v("div",Le,[l.state.showMenu?(h(),S(E,{key:0,class:"container"},{default:o(()=>[a(F,{class:"aside"},{default:o(()=>[Re,Te,a(q,{"default-openeds":l.state.defaultOpen,"background-color":"#222832","text-color":"#fff",router:!0,"default-active":l.state.currentPath},{default:o(()=>[a(i,{index:"/"},{default:o(()=>[Oe,Ve]),_:1}),a(f,{index:"2"},{title:o(()=>[je]),default:o(()=>[a(c,null,{default:o(()=>[a(i,{index:"/user"},{default:o(()=>[Se,Ue]),_:1}),a(i,{index:"/hr"},{default:o(()=>[He,$e]),_:1})]),_:1})]),_:1}),a(f,{index:"3"},{title:o(()=>[Me]),default:o(()=>[a(c,null,{default:o(()=>[a(i,{index:"/agent-allow"},{default:o(()=>[Be,Ce]),_:1})]),_:1}),a(c,null,{default:o(()=>[a(i,{index:"/agent-deny"},{default:o(()=>[Ne,qe]),_:1})]),_:1})]),_:1}),a(f,{index:"4"},{title:o(()=>[Fe]),default:o(()=>[a(c,null,{default:o(()=>[a(i,{index:"/exam"},{default:o(()=>[ze,We]),_:1})]),_:1}),a(c,null,{default:o(()=>[a(i,{index:"/exam-user"},{default:o(()=>[Je,Ke]),_:1})]),_:1}),a(c,null,{default:o(()=>[a(i,{index:"/medal"},{default:o(()=>[Xe,Ge]),_:1})]),_:1}),a(c,null,{default:o(()=>[a(i,{index:"/tag"},{default:o(()=>[Qe,Ye]),_:1})]),_:1}),a(c,null,{default:o(()=>[a(i,{index:"/setting"},{default:o(()=>[Ze,et]),_:1})]),_:1})]),_:1})]),_:1},8,["default-openeds","default-active"])]),_:1}),a(E,{class:"content"},{default:o(()=>[a(z,{"router-name":l.state.routerName},null,8,["router-name"]),u("div",tt,[a(P,{onUpdateVersion:l.updateVersion},null,8,["onUpdateVersion"])]),a(W,{version:l.state.version},null,8,["version"])]),_:1})]),_:1})):(h(),S(E,{key:1,class:"container"},{default:o(()=>[a(P)]),_:1}))])}var nt=I(De,[["render",rt],["__scopeId","data-v-1b05aeb3"]]);const N=ne(nt);for(const e in U)N.component(e,U[e]);N.use(oe).use(B).mount("#app");export{I as _,ue as a,w as b,at as l};
