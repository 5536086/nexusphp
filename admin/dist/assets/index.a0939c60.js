var S=Object.defineProperty,q=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var v=(e,t,a)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,y=(e,t)=>{for(var a in t||(t={}))A.call(t,a)&&v(e,a,t[a]);if(b)for(var a of b(t))E.call(t,a)&&v(e,a,t[a]);return e},C=(e,t)=>q(e,P(t));import{B as I,u as B,r as N,o as j,t as z,e as s,y as R,f as w,q as D,w as c,E as V,h as d,k as n,z as M,p as U,m as $,l as F}from"./vendor.7b1bb722.js";import{_ as G,a as T}from"./index.77c0ea73.js";import{u as H,r as J}from"./table.77a09864.js";const K={name:"TagTable",setup(){const e=I(null),t=B(),a=H();let r=N({agentAllows:[]});j(()=>{i()});const i=async()=>{a.loading=!0;let o=await T.listTag(a.query);J(o,a),a.loading=!1},m=()=>{t.push({name:"tag-form"})},p=o=>{t.push({path:"/tag-form",query:{id:o}})},l=async o=>{let g=await T.deleteTag(o);V.success(g.msg),a.query.page=1,await i()},_=o=>{a.multipleSelection=o},u=o=>{a.query.page=o,i()},h=()=>{a.query.family_id=""};return C(y({},z(a)),{extraData:r,multipleTable:e,handleSelectionChange:_,handleAdd:m,handleEdit:p,handleDelete:l,fetchTableData:i,changePage:u,handleReset:h})}},k=e=>(U("data-v-17cb21d2"),e=e(),$(),e),L={class:"nexus-table-header"},O=k(()=>d("div",{class:"left"},null,-1)),Q={class:"right"},W=F("Add"),X=["onClick"],Y=k(()=>d("a",{style:{cursor:"pointer"}},"Delete",-1));function Z(e,t,a,r,i,m){const p=s("el-button"),l=s("el-table-column"),_=s("el-popconfirm"),u=s("el-table"),h=s("el-pagination"),o=s("el-card"),g=R("loading");return w(),D(o,{class:""},{header:c(()=>[d("div",L,[O,d("div",Q,[n(p,{type:"primary",icon:"Plus",onClick:r.handleAdd},{default:c(()=>[W]),_:1},8,["onClick"])])])]),default:c(()=>[M((w(),D(u,{ref:"multipleTable",data:e.tableData,"tooltip-effect":"dark",onSelectionChange:r.handleSelectionChange},{default:c(()=>[n(l,{type:"selection",width:"55"}),n(l,{prop:"id",label:"Id",width:"50"}),n(l,{prop:"name",label:"Name"}),n(l,{prop:"color",label:"Color"}),n(l,{prop:"priority",label:"Priority"}),n(l,{prop:"updated_at",label:"Updated at"}),n(l,{prop:"created_at",label:"Created at"}),n(l,{label:"Action",width:"120"},{default:c(f=>[d("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:x=>r.handleEdit(f.row.id)},"Edit",8,X),n(_,{title:"Confirm Delete ?",onConfirm:x=>r.handleDelete(f.row.id)},{reference:c(()=>[Y]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[g,e.loading]]),n(h,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.perPage,"current-page":e.currentPage,onCurrentChange:r.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})}var ne=G(K,[["render",Z],["__scopeId","data-v-17cb21d2"]]);export{ne as default};
