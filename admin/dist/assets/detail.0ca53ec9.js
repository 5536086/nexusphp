var R=Object.defineProperty,k=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var w=(e,a,o)=>a in e?R(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,b=(e,a)=>{for(var o in a||(a={}))T.call(a,o)&&w(e,o,a[o]);if(y)for(var o of y(a))U.call(a,o)&&w(e,o,a[o]);return e},C=(e,a)=>k(e,P(a));import{G as A,B as M,d as N,u as V,r as $,o as j,H as E,t as L,e as c,y as z,f as v,g as G,k as m,w as d,E as I,z as F,q,h as t,j as l,i as J,p as K,m as O,l as H}from"./vendor.7b1bb722.js";import{_ as Q,a as p}from"./index.7e5d1fdc.js";const W={name:"HrDetail",setup(){const{proxy:e}=A();console.log("proxy",e);const a=M(null),o=N(),_=V(),{id:i}=o.query,u=$({loading:!1,id:i,agentAllows:[],formData:{},rules:{family_id:[{required:"true"}],name:[{required:"true"}],peer_id:[{required:"true"}],agent:[{required:"true"}]}});j(async()=>{i&&await f()}),E(()=>{});const h=()=>{a.value.validate(async r=>{if(r){let s=u.formData;console.log(s),i?await p.updateAgentDeny(i,s):await p.storeAgentDeny(s),await _.push({name:"agent-deny"})}})},f=async()=>{u.loading=!0;let r=await p.getHr(i);u.loading=!1,u.formData=r.data},D=async r=>{let s=await p.deleteHr(r);I.success(s.msg),await _.push({name:"hr"})},g=async r=>{let s=await p.pardonHr(r);I.success(s.msg),await f()};return C(b({},L(u)),{formRef:a,submitAdd:h,handleDelete:D,handlePardon:g})}},n=e=>(K("data-v-08693874"),e=e(),O(),e),X={class:"table-base-info"},Y=n(()=>t("td",null,"ID",-1)),Z=n(()=>t("td",null,"Status",-1)),x=n(()=>t("td",null,"UID",-1)),tt=n(()=>t("td",null,"Username",-1)),et=n(()=>t("td",null,"Torrent ID",-1)),at=n(()=>t("td",null,"Torrent name",-1)),nt=n(()=>t("td",null,"Uploaded",-1)),ot=n(()=>t("td",null,"Downloaded",-1)),lt=n(()=>t("td",null,"Share ratio",-1)),rt=n(()=>t("td",null,"Seed time required",-1)),st=n(()=>t("td",null,"Inspect time left",-1)),dt=n(()=>t("td",null,"Comment",-1)),it=["innerHTML"],ut=n(()=>t("td",null,"Created at",-1)),ct=n(()=>t("td",null,"Updated at",-1)),mt={style:{"text-align":"center"}},_t=H("Remove"),ft=H("Pardon");function pt(e,a,o,_,i,u){const h=c("el-divider"),f=c("el-button"),D=c("el-popconfirm"),g=c("el-card"),r=c("el-col"),s=c("el-row"),S=z("loading");return v(),G("div",null,[m(s,null,{default:d(()=>[F((v(),q(r,{span:12},{default:d(()=>[m(g,{class:"box-card"},{default:d(()=>[t("table",X,[t("tr",null,[Y,t("td",null,l(e.formData.id),1)]),t("tr",null,[Z,t("td",null,l(e.formData.status_text),1)]),t("tr",null,[x,t("td",null,l(e.formData.uid),1)]),t("tr",null,[tt,t("td",null,l(e.formData.user&&e.formData.user.username),1)]),t("tr",null,[et,t("td",null,l(e.formData.torrent&&e.formData.torrent.id),1)]),t("tr",null,[at,t("td",null,l(e.formData.torrent&&e.formData.torrent.name),1)]),t("tr",null,[nt,t("td",null,l(e.formData.snatch&&e.formData.snatch.upload_text),1)]),t("tr",null,[ot,t("td",null,l(e.formData.snatch&&e.formData.snatch.download_text),1)]),t("tr",null,[lt,t("td",null,l(e.formData.snatch&&e.formData.snatch.share_ratio),1)]),t("tr",null,[rt,t("td",null,l(e.formData.seed_time_required),1)]),t("tr",null,[st,t("td",null,l(e.formData.inspect_time_left),1)]),t("tr",null,[dt,t("td",{innerHTML:e.formData.comment},null,8,it)]),t("tr",null,[ut,t("td",null,l(e.formData.created_at),1)]),t("tr",null,[ct,t("td",null,l(e.formData.updated_at),1)])]),m(h),t("div",mt,[m(D,{title:"Confirm Remove ?",onConfirm:a[0]||(a[0]=B=>_.handleDelete(e.formData.id))},{reference:d(()=>[m(f,{type:"danger"},{default:d(()=>[_t]),_:1})]),_:1}),[1,3].includes(e.formData.status)?(v(),q(D,{key:0,title:"Confirm Pardon ?",onConfirm:a[1]||(a[1]=B=>_.handlePardon(e.formData.id))},{reference:d(()=>[m(f,{type:"primary"},{default:d(()=>[ft]),_:1})]),_:1})):J("",!0)])]),_:1})]),_:1})),[[S,e.loading]])]),_:1})])}var vt=Q(W,[["render",pt],["__scopeId","data-v-08693874"]]);export{vt as default};
